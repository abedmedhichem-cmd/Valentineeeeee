<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ma Valentine ğŸ’–</title>
<style>
  body{
    background:#ffe6f0;
    font-family: Arial, sans-serif;
    text-align:center;
    margin:0;
    padding:60px 16px;
  }
  h1{color:#ff3366; margin:0 0 14px;}
  .sub{color:#ff6b93; margin:0 0 18px;}
  #wrap{max-width:520px; margin:0 auto;}
  #slideshow{
    width:min(320px, 85vw);
    border-radius:18px;
    box-shadow:0 10px 25px rgba(0,0,0,.15);
    margin:14px 0 6px;
    display:block;
    margin-left:auto; margin-right:auto;
    background:#fff;
  }
  #imgHint{font-size:14px; color:#c04a6b; min-height:18px; margin:8px 0 0;}
  .btn{
    font-size:18px;
    padding:12px 22px;
    margin:10px 8px;
    border:none;
    border-radius:12px;
    cursor:pointer;
  }
  #yes{background:#ff4d88; color:#fff;}
  #no{background:#ccc;}
  #status{margin-top:10px; font-size:14px; color:#7a2a42; min-height:18px;}
  .heart{
    position:fixed;
    font-size:30px;
    animation:fall 2.2s linear forwards;
    pointer-events:none;
  }
  @keyframes fall{
    from{transform:translateY(-60px); opacity:1;}
    to{transform:translateY(110vh); opacity:0;}
  }
  /* Ã©cran final */
  #final{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    background:rgba(255,230,240,.92);
    backdrop-filter: blur(2px);
    z-index:9999;
    padding:24px;
  }
  #finalCard{
    background:#fff;
    border-radius:18px;
    padding:22px 18px;
    box-shadow:0 18px 40px rgba(0,0,0,.18);
    max-width:520px;
    width:100%;
  }
  #finalCard h2{margin:0 0 10px; color:#ff3366;}
  #finalCard p{margin:0; color:#7a2a42; line-height:1.35;}
</style>
</head>

<body>
  <div id="wrap">
    <h1>Est-ce que tu veux Ãªtre ma Valentine ? ğŸ’Œ</h1>
    <p class="sub">Clique sur â€œOuiâ€ ğŸ‘€</p>

    <img id="slideshow" src="1.jpg" alt="Nous ğŸ’–">
    <div id="imgHint"></div>

    <div>
      <button class="btn" id="yes">Oui â¤ï¸</button>
      <button class="btn" id="no">Non ğŸ˜¢</button>
    </div>

    <div id="status"></div>
    <audio id="bgm" src="music.mp3" loop preload="auto"></audio>
  </div>

  <div id="final">
    <div id="finalCard">
      <h2>YEEEES ğŸ˜­ğŸ’–</h2>
      <p>
        MÃªme Ã  distance, je te choisis.<br>
        Merci dâ€™Ãªtre toi. â¤ï¸
      </p>
    </div>
  </div>

<script>
  const bgm = document.getElementById("bgm");
  const statusEl = document.getElementById("status");
  const finalEl = document.getElementById("final");
  const imgHint = document.getElementById("imgHint");
  const slideshow = document.getElementById("slideshow");

  // âœ… diaporama
  const photos = ["1.jpg","2.jpg","3.jpg"];
  let idx = 0;
  setInterval(() => {
    idx = (idx + 1) % photos.length;
    slideshow.src = photos[idx];
  }, 2200);

  // âœ… si une photo nâ€™existe pas, on affiche un message
  slideshow.onerror = () => {
    imgHint.textContent =
      "âš ï¸ Photo introuvable. VÃ©rifie les noms: 1.jpg 2.jpg 3.jpg (sans majuscules).";
  };
  slideshow.onload = () => { imgHint.textContent = ""; };

  // ğŸ’– pluie de cÅ“urs
  function heartsBurst(count=60){
    for(let i=0;i<count;i++){
      const h=document.createElement("div");
      h.className="heart";
      h.style.left=(Math.random()*100)+"vw";
      h.style.top=(-20 - Math.random()*80)+"px";
      h.textContent = Math.random() < 0.15 ? "ğŸ’—" : "â¤ï¸";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(), 2300);
    }
  }

  // ğŸµ dÃ©marrer musique (aprÃ¨s clic)
  async function startMusic(){
    try{
      await bgm.play();
      statusEl.textContent = "ğŸµ Musique en coursâ€¦";
    }catch(e){
      statusEl.textContent = "ğŸµ Clique encore une fois pour lancer la musique (certains navigateurs sont relous).";
    }
  }

  // âœ… OUI = musique + animation + Ã©cran final
  document.getElementById("yes").onclick = async () => {
    await startMusic();
    heartsBurst(90);
    setTimeout(()=>{ finalEl.style.display="flex"; }, 600);
  };

  // âœ… NON = bouton sâ€™enfuit + disparaÃ®t
  const noBtn = document.getElementById("no");
  noBtn.onmouseenter = () => {
    noBtn.style.position = "relative";
    noBtn.style.left = (Math.random()*120 - 60) + "px";
    noBtn.style.top  = (Math.random()*80  - 40) + "px";
  };
  no
